import"./switcher-692af0e4.js";import{g as lt,a as ut,b as J,c as K,s as ct,r as N,d as ft,e as dt}from"./catalog_hero-5c34bd09.js";function pt(y){return y.length>20?y.substring(0,20)+"...":y}function vt(y,P,s,v,e,i){if(!y)return;let n="";return v.length?n=pt(v.slice(0,2).join(", ")):n="There are no genres",`<li class="gallery-movies-item" data-id="${s}">
        <img class="gallery-movies-img" src="https://image.tmdb.org/t/p/original/${y}" alt="${P}" loading="lazy">
        <div class="gallery-movies-overlay js-modal-info" data-id="${s}"></div>
            <div class="gallery-movies-description">
                <h3 class="gallery-movies-title">${P}</h3>
                <div class="gallery-movies-wrap">
                <p class="gallery-movies-details">${n} | ${e}</p>
                <img src="${i}" alt="raiting" class="star-rating-card"/>
                </div>
            </div>
        </li>`}var Z={exports:{}};/*!
 * TOAST UI Pagination
 * @version 3.4.1
 * @author NHN FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */(function(y,P){(function(v,e){y.exports=e()})(window,function(){return function(s){var v={};function e(i){if(v[i])return v[i].exports;var n=v[i]={i,l:!1,exports:{}};return s[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=s,e.c=v,e.d=function(i,n,f){e.o(i,n)||Object.defineProperty(i,n,{enumerable:!0,get:f})},e.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},e.t=function(i,n){if(n&1&&(i=e(i)),n&8||n&4&&typeof i=="object"&&i&&i.__esModule)return i;var f=Object.create(null);if(e.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:i}),n&2&&typeof i!="string")for(var d in i)e.d(f,d,function(o){return i[o]}.bind(null,d));return f},e.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(n,"a",n),n},e.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},e.p="dist",e(e.s=10)}([function(s,v,e){function i(n,f){var d=Object.prototype.hasOwnProperty,o,u,p,M;for(p=1,M=arguments.length;p<M;p+=1){o=arguments[p];for(u in o)d.call(o,u)&&(n[u]=o[u])}return n}s.exports=i},function(s,v,e){function i(n){return n===void 0}s.exports=i},function(s,v,e){function i(n){return n instanceof Array}s.exports=i},function(s,v,e){var i=e(2),n=e(17),f=e(6);function d(o,u,p){i(o)?n(o,u,p):f(o,u,p)}s.exports=d},function(s,v,e){function i(n){return typeof n=="string"||n instanceof String}s.exports=i},function(s,v,e){function i(n){return n instanceof Function}s.exports=i},function(s,v,e){function i(n,f,d){var o;d=d||null;for(o in n)if(n.hasOwnProperty(o)&&f.call(d,n[o],o,n)===!1)break}s.exports=i},function(s,v,e){var i=e(18),n=e(0);function f(d,o){var u;return o||(o=d,d=null),u=o.init||function(){},d&&i(u,d),o.hasOwnProperty("static")&&(n(u,o.static),delete o.static),n(u.prototype,o),u}s.exports=f},function(s,v,e){var i=e(2);function n(f,d,o){var u,p;if(o=o||0,!i(d))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(d,f,o);for(p=d.length,u=o;o>=0&&u<p;u+=1)if(d[u]===f)return u;return-1}s.exports=n},function(s,v,e){var i=e(29),n=e(30),f=e(5),d={capitalizeFirstLetter:function(o){return o.substring(0,1).toUpperCase()+o.substring(1,o.length)},isContained:function(o,u){return u?o===u?!0:u.contains(o):!1},createElementByTemplate:function(o,u){var p=document.createElement("div"),M=f(o)?o(u):i(o,u);return p.innerHTML=M,p.firstChild},bind:function(o,u){var p=Array.prototype.slice,M;return o.bind?o.bind.apply(o,p.call(arguments,1)):(M=p.call(arguments,2),function(){return o.apply(u,M.length?M.concat(p.call(arguments)):arguments)})},sendHostName:function(){n("pagination","UA-129987462-1")}};s.exports=d},function(s,v,e){e(11),s.exports=e(12)},function(s,v,e){},function(s,v,e){var i=e(13),n=e(7),f=e(0),d=e(1),o=e(20),u=e(9),p={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},M=n({init:function(a,t){this._options=f({},p,t),this._currentPage=0,this._view=new o(a,this._options,u.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&u.sendHostName()},_setCurrentPage:function(a){this._currentPage=a||this._options.page},_getLastPage:function(){var a=Math.ceil(this._options.totalItems/this._options.itemsPerPage);return a||1},_getPageIndex:function(a){var t,r;return this._options.centerAlign?(t=Math.floor(this._options.visiblePages/2),r=a-t,r=Math.max(r,1),r=Math.min(r,this._getLastPage()-this._options.visiblePages+1),r):Math.ceil(a/this._options.visiblePages)},_getRelativePage:function(a){var t=a==="prev",r=this.getCurrentPage();return t?r-1:r+1},_getMorePageIndex:function(a){var t=this._getPageIndex(this.getCurrentPage()),r=this._options.visiblePages,l=a==="prev",g;return this._options.centerAlign?g=l?t-1:t+r:g=l?(t-1)*r:t*r+1,g},_convertToValidPage:function(a){var t=this._getLastPage();return a=Math.max(a,1),a=Math.min(a,t),a},_paginate:function(a){var t=this._makeViewData(a||this._options.page);this._setCurrentPage(a),this._view.update(t)},_makeViewData:function(a){var t={},r=this._getLastPage(),l=this._getPageIndex(a),g=this._getPageIndex(r),_=this._getEdge(a);return t.leftPageNumber=_.left,t.rightPageNumber=_.right,t.prevMore=l>1,t.nextMore=l<g,t.page=a,t.currentPageIndex=a,t.lastPage=r,t.lastPageListIndex=r,t},_getEdge:function(a){var t,r,l,g=this._getLastPage(),_=this._options.visiblePages,L=this._getPageIndex(a);return this._options.centerAlign?(l=Math.floor(_/2),t=Math.max(a-l,1),r=t+_-1,r>g&&(t=Math.max(g-_+1,1),r=g)):(t=(L-1)*_+1,r=L*_,r=Math.min(r,g)),{left:t,right:r}},_onClickHandler:function(a,t){switch(a){case"first":t=1;break;case"prev":t=this._getRelativePage("prev");break;case"next":t=this._getRelativePage("next");break;case"prevMore":t=this._getMorePageIndex("prev");break;case"nextMore":t=this._getMorePageIndex("next");break;case"last":t=this._getLastPage();break;default:if(!t)return}this.movePageTo(t)},reset:function(a){d(a)&&(a=this._options.totalItems),this._options.totalItems=a,this._paginate(1)},movePageTo:function(a){a=this._convertToValidPage(a),this.invoke("beforeMove",{page:a})&&(this._paginate(a),this.fire("afterMove",{page:a}))},setTotalItems:function(a){this._options.totalItems=a},setItemsPerPage:function(a){this._options.itemsPerPage=a},getCurrentPage:function(){return this._currentPage||this._options.page}});i.mixin(M),s.exports=M},function(s,v,e){var i=e(0),n=e(14),f=e(4),d=e(16),o=e(2),u=e(5),p=e(3),M=/\s+/g;function a(){this.events=null,this.contexts=null}a.mixin=function(t){i(t.prototype,a.prototype)},a.prototype._getHandlerItem=function(t,r){var l={handler:t};return r&&(l.context=r),l},a.prototype._safeEvent=function(t){var r=this.events,l;return r||(r=this.events={}),t&&(l=r[t],l||(l=[],r[t]=l),r=l),r},a.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},a.prototype._indexOfContext=function(t){for(var r=this._safeContext(),l=0;r[l];){if(t===r[l][0])return l;l+=1}return-1},a.prototype._memorizeContext=function(t){var r,l;n(t)&&(r=this._safeContext(),l=this._indexOfContext(t),l>-1?r[l][1]+=1:r.push([t,1]))},a.prototype._forgetContext=function(t){var r,l;n(t)&&(r=this._safeContext(),l=this._indexOfContext(t),l>-1&&(r[l][1]-=1,r[l][1]<=0&&r.splice(l,1)))},a.prototype._bindEvent=function(t,r,l){var g=this._safeEvent(t);this._memorizeContext(l),g.push(this._getHandlerItem(r,l))},a.prototype.on=function(t,r,l){var g=this;f(t)?(t=t.split(M),p(t,function(_){g._bindEvent(_,r,l)})):d(t)&&(l=r,p(t,function(_,L){g.on(L,_,l)}))},a.prototype.once=function(t,r,l){var g=this;if(d(t)){l=r,p(t,function(L,c){g.once(c,L,l)});return}function _(){r.apply(l,arguments),g.off(t,_,l)}this.on(t,_,l)},a.prototype._spliceMatches=function(t,r){var l=0,g;if(o(t))for(g=t.length;l<g;l+=1)r(t[l])===!0&&(t.splice(l,1),g-=1,l-=1)},a.prototype._matchHandler=function(t){var r=this;return function(l){var g=t===l.handler;return g&&r._forgetContext(l.context),g}},a.prototype._matchContext=function(t){var r=this;return function(l){var g=t===l.context;return g&&r._forgetContext(l.context),g}},a.prototype._matchHandlerAndContext=function(t,r){var l=this;return function(g){var _=t===g.handler,L=r===g.context,c=_&&L;return c&&l._forgetContext(g.context),c}},a.prototype._offByEventName=function(t,r){var l=this,g=u(r),_=l._matchHandler(r);t=t.split(M),p(t,function(L){var c=l._safeEvent(L);g?l._spliceMatches(c,_):(p(c,function(h){l._forgetContext(h.context)}),l.events[L]=[])})},a.prototype._offByHandler=function(t){var r=this,l=this._matchHandler(t);p(this._safeEvent(),function(g){r._spliceMatches(g,l)})},a.prototype._offByObject=function(t,r){var l=this,g;this._indexOfContext(t)<0?p(t,function(_,L){l.off(L,_)}):f(r)?(g=this._matchContext(t),l._spliceMatches(this._safeEvent(r),g)):u(r)?(g=this._matchHandlerAndContext(r,t),p(this._safeEvent(),function(_){l._spliceMatches(_,g)})):(g=this._matchContext(t),p(this._safeEvent(),function(_){l._spliceMatches(_,g)}))},a.prototype.off=function(t,r){f(t)?this._offByEventName(t,r):arguments.length?u(t)?this._offByHandler(t):d(t)&&this._offByObject(t,r):(this.events={},this.contexts=[])},a.prototype.fire=function(t){this.invoke.apply(this,arguments)},a.prototype.invoke=function(t){var r,l,g,_;if(!this.hasListener(t))return!0;for(r=this._safeEvent(t),l=Array.prototype.slice.call(arguments,1),g=0;r[g];){if(_=r[g],_.handler.apply(_.context,l)===!1)return!1;g+=1}return!0},a.prototype.hasListener=function(t){return this.getListenerLength(t)>0},a.prototype.getListenerLength=function(t){var r=this._safeEvent(t);return r.length},s.exports=a},function(s,v,e){var i=e(1),n=e(15);function f(d){return!i(d)&&!n(d)}s.exports=f},function(s,v,e){function i(n){return n===null}s.exports=i},function(s,v,e){function i(n){return n===Object(n)}s.exports=i},function(s,v,e){function i(n,f,d){var o=0,u=n.length;for(d=d||null;o<u&&f.call(d,n[o],o,n)!==!1;o+=1);}s.exports=i},function(s,v,e){var i=e(19);function n(f,d){var o=i(d.prototype);o.constructor=f,f.prototype=o}s.exports=n},function(s,v,e){function i(n){function f(){}return f.prototype=n,new f}s.exports=i},function(s,v,e){var i=e(3),n=e(7),f=e(21),d=e(22),o=e(24),u=e(25),p=e(0),M=e(4),a=e(28),t=e(9),r={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},l=["first","prev","next","last"],g=["prev","next"],_="The container element is invalid.",L=n({init:function(c,h,S){this._containerElement=null,this._firstItemClassName=h.firstItemClassName,this._lastItemClassName=h.lastItemClassName,this._template=p({},r,h.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(c),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(S)},_setRootElement:function(c){if(M(c)?c=document.getElementById(c)||document.querySelector(c):c.jquery&&(c=c[0]),!a(c))throw new Error(_);this._containerElement=c},_setMoveButtons:function(){i(l,function(c){this._buttons[c]=t.createElementByTemplate(this._template.moveButton,{type:c})},this)},_setDisabledMoveButtons:function(){i(l,function(c){var h="disabled"+t.capitalizeFirstLetter(c);this._buttons[h]=t.createElementByTemplate(this._template.disabledMoveButton,{type:c})},this)},_setMoreButtons:function(){i(g,function(c){var h=c+"More";this._buttons[h]=t.createElementByTemplate(this._template.moreButton,{type:c})},this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(c){var h;c.page>1?h=this._buttons.first:h=this._buttons.disabledFirst,this._getContainerElement().appendChild(h)},_appendPrevButton:function(c){var h;c.currentPageIndex>1?h=this._buttons.prev:h=this._buttons.disabledPrev,this._getContainerElement().appendChild(h)},_appendNextButton:function(c){var h;c.currentPageIndex<c.lastPageListIndex?h=this._buttons.next:h=this._buttons.disabledNext,this._getContainerElement().appendChild(h)},_appendLastButton:function(c){var h;c.page<c.lastPage?h=this._buttons.last:h=this._buttons.disabledLast,this._getContainerElement().appendChild(h)},_appendPrevMoreButton:function(c){var h;c.prevMore&&(h=this._buttons.prevMore,u(h,this._firstItemClassName),this._getContainerElement().appendChild(h))},_appendNextMoreButton:function(c){var h;c.nextMore&&(h=this._buttons.nextMore,u(h,this._lastItemClassName),this._getContainerElement().appendChild(h))},_appendPages:function(c){var h=c.leftPageNumber,S=c.rightPageNumber,T,O;for(O=h;O<=S;O+=1)O===c.page?T=t.createElementByTemplate(this._template.currentPage,{page:O}):(T=t.createElementByTemplate(this._template.page,{page:O}),this._enabledPageElements.push(T)),O===h&&!c.prevMore&&u(T,this._firstItemClassName),O===S&&!c.nextMore&&u(T,this._lastItemClassName),this._getContainerElement().appendChild(T)},_attachClickEvent:function(c){var h=this._getContainerElement();d(h,"click",function(S){var T=f(S),O,H;o(S),H=this._getButtonType(T),H||(O=this._getPageNumber(T)),c(H,O)},this)},_getButtonType:function(c){var h,S=this._buttons;return i(S,function(T,O){return t.isContained(c,T)?(h=O,!1):!0},this),h},_getPageNumber:function(c){var h=this._findPageElement(c),S;return h&&(S=parseInt(h.innerText,10)),S},_findPageElement:function(c){for(var h=0,S=this._enabledPageElements.length,T;h<S;h+=1)if(T=this._enabledPageElements[h],t.isContained(c,T))return T;return null},_empty:function(){this._enabledPageElements=[],i(this._buttons,function(c,h){this._buttons[h]=c.cloneNode(!0)},this),this._getContainerElement().innerHTML=""},update:function(c){this._empty(),this._appendFirstButton(c),this._appendPrevButton(c),this._appendPrevMoreButton(c),this._appendPages(c),this._appendNextMoreButton(c),this._appendNextButton(c),this._appendLastButton(c)}});s.exports=L},function(s,v,e){function i(n){return n.target||n.srcElement}s.exports=i},function(s,v,e){var i=e(4),n=e(3),f=e(23);function d(p,M,a,t){if(i(M)){n(M.split(/\s+/g),function(r){o(p,r,a,t)});return}n(M,function(r,l){o(p,l,r,a)})}function o(p,M,a,t){function r(l){a.call(t||p,l||window.event)}"addEventListener"in p?p.addEventListener(M,r):"attachEvent"in p&&p.attachEvent("on"+M,r),u(p,M,a,r)}function u(p,M,a,t){var r=f(p,M),l=!1;n(r,function(g){return g.handler===a?(l=!0,!1):!0}),l||r.push({handler:a,wrappedHandler:t})}s.exports=d},function(s,v,e){var i="_feEventKey";function n(f,d){var o=f[i],u;return o||(o=f[i]={}),u=o[d],u||(u=o[d]=[]),u}s.exports=n},function(s,v,e){function i(n){if(n.preventDefault){n.preventDefault();return}n.returnValue=!1}s.exports=i},function(s,v,e){var i=e(3),n=e(8),f=e(26),d=e(27);function o(u){var p=Array.prototype.slice.call(arguments,1),M=u.classList,a=[],t;if(M){i(p,function(r){u.classList.add(r)});return}t=f(u),t&&(p=[].concat(t.split(/\s+/),p)),i(p,function(r){n(r,a)<0&&a.push(r)}),d(u,a)}s.exports=o},function(s,v,e){var i=e(1);function n(f){return!f||!f.className?"":i(f.className.baseVal)?f.className:f.className.baseVal}s.exports=n},function(s,v,e){var i=e(2),n=e(1);function f(d,o){if(o=i(o)?o.join(" "):o,o=o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),n(d.className.baseVal)){d.className=o;return}d.className.baseVal=o}s.exports=f},function(s,v,e){function i(n){return typeof HTMLElement=="object"?n&&(n instanceof HTMLElement||!!n.nodeType):!!(n&&n.nodeType)}s.exports=i},function(s,v,e){var i=e(8),n=e(3),f=e(2),d=e(4),o=e(0),u=/{{\s?|\s?}}/g,p=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,M=/\[\s?|\s?\]/,a=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,t=/\./,r=/^["']\w+["']$/,l=/"|'/g,g=/^-?\d+\.?\d*$/,_=2,L={if:O,each:H,with:it},c="a".split(/a/).length===3,h=function(){return c?function(m,x){return m.split(x)}:function(m,x){var E=[],b=0,C,I;for(x.global||(x=new RegExp(x,"g")),C=x.exec(m);C!==null;)I=C.index,E.push(m.slice(b,I)),b=I+C[0].length,C=x.exec(m);return E.push(m.slice(b)),E}}();function S(m,x){var E,b=x[m];return m==="true"?b=!0:m==="false"?b=!1:r.test(m)?b=m.replace(l,""):p.test(m)?(E=m.split(M),b=S(E[0],x)[S(E[1],x)]):a.test(m)?(E=m.split(t),b=S(E[0],x)[E[1]]):g.test(m)&&(b=parseFloat(m)),b}function T(m,x){var E=[m],b=[],C=0,I=0;return n(x,function(B,A){B.indexOf("if")===0?C+=1:B==="/if"?C-=1:!C&&(B.indexOf("elseif")===0||B==="else")&&(E.push(B==="else"?["true"]:B.split(" ").slice(1)),b.push(x.slice(I,A)),I=A+1)}),b.push(x.slice(I)),{exps:E,sourcesInsideIf:b}}function O(m,x,E){var b=T(m,x),C=!1,I="";return n(b.exps,function(B,A){return C=F(B,E),C&&(I=V(b.sourcesInsideIf[A],E)),!C}),I}function H(m,x,E){var b=F(m,E),C=f(b)?"@index":"@key",I={},B="";return n(b,function(A,R){I[C]=R,I["@this"]=A,o(E,I),B+=V(x.slice(),E)}),B}function it(m,x,E){var b=i("as",m),C=m[b+1],I=F(m.slice(0,b),E),B={};return B[C]=I,V(x,o(E,B))||""}function rt(m,x,E){var b=m.splice(x+1,E-x);return b.pop(),b}function st(m,x,E){for(var b=L[m],C=1,I=0,B,A=I+_,R=x[A];C&&d(R);)R.indexOf(m)===0?C+=1:R.indexOf("/"+m)===0&&(C-=1,B=A),A+=_,R=x[A];if(C)throw Error(m+" needs {{/"+m+"}} expression.");return x[I]=b(x[I].split(" ").slice(1),rt(x,I,B),E),x}function F(m,x){var E=S(m[0],x);return E instanceof Function?at(E,m.slice(1),x):E}function at(m,x,E){var b=[];return n(x,function(C){b.push(S(C,E))}),m.apply(null,b)}function V(m,x){for(var E=1,b=m[E],C,I,B;d(b);)C=b.split(" "),I=C[0],L[I]?(B=st(I,m.splice(E,m.length-E),x),m=m.concat(B)):m[E]=F(C,x),E+=_,b=m[E];return m.join("")}function ot(m,x){return V(h(m,u),x)}s.exports=ot},function(s,v,e){var i=e(1),n=e(31),f=7*24*60*60*1e3;function d(u){var p=new Date().getTime();return p-u>f}function o(u,p){var M="https://www.google-analytics.com/collect",a=location.hostname,t="event",r="use",l="TOAST UI "+u+" for "+a+": Statistics",g=window.localStorage.getItem(l);!i(window.tui)&&window.tui.usageStatistics===!1||g&&!d(g)||(window.localStorage.setItem(l,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&n(M,{v:1,t,tid:p,cid:a,dp:a,dh:u,el:u,ec:r})},1e3))}s.exports=o},function(s,v,e){var i=e(6);function n(f,d){var o=document.createElement("img"),u="";return i(d,function(p,M){u+="&"+M+"="+p}),u=u.substring(1),o.src=f+"?"+u,o.style.display="none",document.body.appendChild(o),document.body.removeChild(o),o}s.exports=n}])})})(Z);var gt=Z.exports;const ht=lt(gt);const $=document.querySelector(".pagination"),G=document.querySelector(".catalog__form"),z=document.querySelector(".gallery-movies"),D=document.querySelector(".no-results"),mt=document.getElementById("tui-pagination-container");let j;const yt=await ut(),xt=yt.data.genres;W("weekly");G.addEventListener("submit",Et);async function Et(y){y.preventDefault(),z.innerHTML="";const{search:P}=y.currentTarget.elements;if(j=P.value.trim(),j==""||!j){D.hidden=!1,$.style.display="none",G.reset();return}D.hidden=!0,W("query",j),G.reset()}async function Y(y){const P=y.map(async({poster_path:v,title:e,genre_ids:i,id:n,release_date:f,vote_average:d})=>{const o=f.substr(0,4),u=Pt(xt,i),p=ct(d);return vt(v,e,n,u,o,p)});return(await Promise.all(P)).join("")}function Pt(y,P){const s=[];return P.filter(v=>{y.map(({id:e,name:i})=>{e===v&&s.push(i)})}),s}async function W(y,P){let s,v;if(y=="weekly"?(s=await J(),v=s.data.total_results):y=="query"&&(s=await K(P),v=s.data.total_results),y=="query"&&!v){$.style.display="none",D.hidden=!1,G.reset();return}else $.style.display="block";if(z.innerHTML=await Y(s.data.results),v>1e4)v=1e4;else if(v<=20){$.style.display="none";return}const e={totalItems:v,itemsPerPage:20,visiblePages:3,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}} custom-class-{{type}}"><span class="tui-ico-{{type}}"></span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}} custom-class-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip custom-class-{{type}}"><span class="tui-ico-ellip"></span></a>'}};new ht(mt,e).on("afterMove",async n=>{const{page:f}=n;if(y=="weekly"?s=await J("week",f):y=="query"&&(s=await K(P,f)),s)z.innerHTML=await Y(s.data.results);else return!1})}const k="MY_LIBRARY";let U={},w=null;N.gallaryContainer.addEventListener("click",bt);function Q(y){y.currentTarget===y.target&&(N.backdropMovieInfoContainer.classList.add("is-hidden"),N.movieInfoContainer.innerHTML="",N.backdropMovieInfoContainer.removeEventListener("click",Q))}function q(y){const P="Escape";y.code==P&&(N.backdropMovieInfoContainer.classList.add("is-hidden"),N.movieInfoContainer.innerHTML="",window.removeEventListener("keydown",q))}async function bt(y){if(!y.target.classList.contains("js-modal-info"))return;N.backdropMovieInfoContainer.addEventListener("click",Q),window.addEventListener("keydown",q),N.closeModalBtn.addEventListener("click",nt),w=+y.target.dataset.id;const{data:s}=await St(w);U=s;const v=await ft(U);N.movieInfoContainer.insertAdjacentHTML("beforeend",v),N.modal.classList.toggle("is-hidden");const e={addBtn:document.querySelector(".add-btn"),removeBtm:document.querySelector(".remove-btn")},i=X(k);i&&i.map(n=>{if(n.id===w){e.addBtn.classList.add("hide"),e.removeBtm.classList.remove("hide");return}}),e.addBtn.addEventListener("click",_t),e.removeBtm.addEventListener("click",Mt)}function _t(){const y={addBtn:document.querySelector(".add-btn"),removeBtm:document.querySelector(".remove-btn")},P=X(k);let s="",v=[];if(P&&w){v=tt(P);const n=JSON.stringify(v);s=Ct(n)}const e=JSON.stringify(U),i=It(e,s);y.addBtn.classList.toggle("hide"),y.removeBtm.classList.toggle("hide"),et(k,i)}function Mt(){const y={addBtn:document.querySelector(".add-btn"),removeBtm:document.querySelector(".remove-btn")},P=X(k);y.addBtn.classList.toggle("hide"),y.removeBtm.classList.toggle("hide");const s=tt(P);et(k,s)}function tt(y){return y.map(P=>{if(P.id!==w)return P}).filter(P=>{if(P)return P})}function X(y){try{const P=localStorage.getItem(y);return P===null?void 0:JSON.parse(P)}catch(P){console.error("Get state error: ",P.message)}}function et(y,P){try{const s=JSON.stringify(P);localStorage.setItem(y,s)}catch(s){console.error("Set state error: ",s.message)}}function Ct(y){return y.slice(1,y.length-1)}function It(y,P){return JSON.parse(P?`[${P}, ${y}]`:`[${y}]`)}function nt(){N.modal.classList.toggle("is-hidden"),N.movieInfoContainer.innerHTML="",N.closeModalBtn.removeEventListener("click",nt)}async function St(y){return await dt(y)}
